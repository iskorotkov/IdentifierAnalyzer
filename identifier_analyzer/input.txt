#include <iostream>
#include <string>
#include <stdio.h>
#include <windows.h>

using namespace std;

string a[10007];
char b[10007][10007];
string s[5];

int main(){
	SetConsoleCP(1251);
	SetConsoleOutputCP(1251);
	int n, k1 = 0, k2 = 0, k3 = 0, k4 = 0, pin = 0;
	freopen ("input5.txt","r",stdin);
	freopen ("output5.txt","w",stdout);
	n = -1;
	cin >> n;
	if (n == -1) {pin = 21;}
	s[0] = "";
	getline(cin, a[0]); ///Я не люблю // помидоры!
	for (int i = 0; i < n; i++){
		getline(cin, a[i]); ///Я "не 'люблю' помидоры"!
		if (a[i].length() < n) while ((a[i].length() != n)) a[i] = a[i] + ' ';///Я не люблю 'помидоры'!
	}
	for (int i = 0; i < n; i++)
		for (int j = 0; j < n; j++){
			cin >> b[i][j];
			if ((b[i][j] != '0') && (b[i][j] != '1')) pin = 21;///Я не "люблю помидоры"!
		}
	for (int i = 0; i < n; i++){
		for (int j = 0; j < n; j++){
			if (b[i][j] == '0') {
				s[0] = s[0] + a[i][j];
			}
		}
	}
	for (int j = 0; j < n; j++){
		for (int i = n-1; i >= 0; i--){
			if (b[i][j] == '0') {
				s[0] = s[0] + a[j][n-1-i]; ///Я не люблю помидоры!
			}
		}
	}
	for (int i = n-1; i >= 0; i--){
		for (int j = n-1; j >= 0; j--){
			if (b[i][j] == '0') {
				s[0] = s[0] + a[n-1-i][n-1-j];
			}
		}
	}
	for (int j = n-1; j >= 0; j--){
		for (int i = 0; i < n; i++){
			if (b[i][j] == '0') {
				s[0] = s[0] + a[n-1-j][i];
			}
		}
	}
	if (pin != 21) cout << s[0];
	else cout << "Я люблю помидоры!";
	 return 0;
}